<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>LizardBase</title>
    <link rel="stylesheet" href="theme/default/style.css" type="text/css" />
    <link rel="stylesheet" href="theme/default/google.css" type="text/css" />
    <!-- this gmaps key generated for http://openlayers.org/dev/ -->
    <script src='http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjpkAC9ePGem0lIq5XcMiuhR_wWLPFku8Ix9i2SXYRVK3e45q1BQUd_beF8dtzKET_EteAjPdGDwqpQ'></script>

    <script src="OpenLayers.js" type="text/javascript"></script>
    <script type="text/javascript"
        src="http://ajax.googleapis.com/ajax/libs/dojo/1.3/dojo/dojo.xd.js">
    </script>
    
    <script type="text/javascript">
      function init() {
        loadGenome();
      }
     
      function loadGenome() {
        dojo.place( "<iframe src='jbrowse/index.html' width='100%' height='500px'></iframe>", "contentArea", "only" );
      }

      var map;
      function loadMap() {
        dojo.place( "<div id='map'></div><div id='coord'></div>", "contentArea", "only" );

        if( map == null ) {
          var options = {
            // the "community" epsg code for spherical mercator
                projection: "EPSG:900913",
                // map horizontal units are meters
                units: "m",
                // this resolution displays the globe in one 256x256 pixel tile
                maxResolution: 78271.51695,
                // these are the bounds of the globe in sperical mercator
                maxExtent: new OpenLayers.Bounds(-20037508, -20037508,
                                                 20037508, 20037508)
          };

          map = new OpenLayers.Map('map',options);
          map.addControl(new OpenLayers.Control.LayerSwitcher());
          map.addControl(new OpenLayers.Control.MousePosition( {div: "coord"} ));

          var gphy = new OpenLayers.Layer.Google(
              "Google Physical",
              {type: G_PHYSICAL_MAP, sphericalMercator: true}
          );
          var gmap = new OpenLayers.Layer.Google(
              "Google Streets", // the default
              {numZoomLevels: 20, sphericalMercator: true}
          );
          var ghyb = new OpenLayers.Layer.Google(
              "Google Hybrid",
              {type: G_HYBRID_MAP, numZoomLevels: 20, sphericalMercator: true}
          );
          var gsat = new OpenLayers.Layer.Google(
              "Google Satellite",
              {type: G_SATELLITE_MAP, numZoomLevels: 20, sphericalMercator: true}
          );
          var lizardBase = new OpenLayers.Layer.WMS("Anole Lizard Specimens",
             "http://localhost:8080/geoserver/wms?service=wms",
             {layers: 'LizardBase:geom',
              srs: 'EPSG:4326',
              format: 'image/png',
              transparent: true},
             {isBaseLayer: false});

          map.addLayers([gphy, gmap, ghyb, gsat, lizardBase]);

          var usBounds = new OpenLayers.Bounds(
            -14392000, 2436200, -7279500, 6594375
            );


          //var center = new OpenLayers.LonLat( -82.271667, 29.69 );
          //var center = new OpenLayers.LonLat( 29.69, -82.271667 );
          //var center = new OpenLayers.LonLat(10.2, 48.9)
          //map.setCenter( center, 5 )
          map.zoomToExtent( usBounds );
        } else {
          map.render( 'map' );
        }
      }
    </script>
  </head>

  <body onload="init()">
    <h1 id="title">LizardBase</h1>

    <div id="navBar">
      <button type="button" onclick="loadGenome()">Genome</button></td>
      <button type="button" onclick="loadMap()">Map</button></td>
    </div>

    <div id="contentArea"></div>
  </body>
</html>

